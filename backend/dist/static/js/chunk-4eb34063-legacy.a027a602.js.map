{"version":3,"sources":["webpack:///./src/views/LeagueResultsTable.vue?1762","webpack:///src/views/LeagueResultsTable.vue","webpack:///./src/views/LeagueResultsTable.vue?7c60","webpack:///./src/views/LeagueResultsTable.vue","webpack:///./src/views/LeagueResultsTable.vue?bb55"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","params","name","course","content","_v","_s","on","filterChanged","directives","rawName","value","filteredResults","length","expression","$event","sortBy","ascendingSort","sortedBy","smallWindow","_l","event","key","eventsWithResults","indexOf","tag","result","class","striped","toggleRow","position","ageClass","club","totalPoints","openedRows","includes","strikethrough","largestPoints","points","_e","otherCourses","found","staticRenderFns","components","FilterMenu","UpDownArrow","data","computed","resultsWithAgeClassSplit","rawResults","map","gender","age","parseInt","slice","sortedResults","property","split","sort","events","filter","watch","mounted","destroyed","window","removeEventListener","handleResize","methods","innerWidth","getResults","getOtherCourses","getEventList","sortFunction","byPoints","a","b","ascending","array","filterPreferences","minAge","maxAge","male","female","index","splice","component"],"mappings":"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","file":"js/chunk-4eb34063-legacy.a027a602.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-full pt-2 px-4 md:px-8 lg:px-16 xl:px-20\"},[_c('vue-headful',{attrs:{\"title\":'Munro - ' + _vm.$route.params.name + ' - ' + _vm.$route.params.course + ' Results',\"description\":'Results from the ' + _vm.$route.params.course + ' course of the ' + _vm.$route.params.name + ' league on Munro, the Fast and Easy Results System for Orienteering Leagues. A simple way to calculate the results for orienteering leagues, with search and sort features',\"url\":'https://munro-leagues.herokuapp.com/leagues'+_vm.$route.params.name+'/results/'+_vm.$route.params.course,\"head\":{\n      'meta': {name: 'robots', content:'all'},\n    }}}),_c('h1',{staticClass:\"text-3xl font-normal font-heading\"},[_c('router-link',{staticClass:\"link text-main\",attrs:{\"to\":'/leagues/'+_vm.$route.params.name}},[_vm._v(\" \"+_vm._s(_vm.$route.params.name)+\" \")]),_vm._v(\" - \"+_vm._s(_vm.$route.params.course)+\" \")],1),_c('filter-menu',{on:{\"changed\":_vm.filterChanged}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filteredResults && _vm.filteredResults.length > 0),expression:\"filteredResults && filteredResults.length > 0\"}],staticClass:\"table-container\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{on:{\"click\":function($event){return _vm.sortBy('position')}}},[_c('p',[_vm._v(\"Pos.\")]),_c('up-down-arrow',{attrs:{\"ascending\":_vm.ascendingSort,\"active\":_vm.sortedBy === 'position'}})],1),_c('th',{on:{\"click\":function($event){return _vm.sortBy('name')}}},[_c('p',[_vm._v(\"Name\")]),_c('up-down-arrow',{attrs:{\"ascending\":_vm.ascendingSort,\"active\":_vm.sortedBy === 'name'}})],1),_c('th',{on:{\"click\":function($event){return _vm.sortBy('age')}}},[_c('p',[_vm._v(\"Class\")]),_c('up-down-arrow',{attrs:{\"ascending\":_vm.ascendingSort,\"active\":_vm.sortedBy === 'age'}})],1),_c('th',{staticClass:\"club\",on:{\"click\":function($event){return _vm.sortBy('club')}}},[_c('p',[_vm._v(\"Club\")]),_c('up-down-arrow',{attrs:{\"ascending\":_vm.ascendingSort,\"active\":_vm.sortedBy === 'club'}})],1),_c('th',{on:{\"click\":function($event){return _vm.sortBy('totalPoints')}}},[_c('p',[_vm._v(\"Points\")]),_c('up-down-arrow',{attrs:{\"ascending\":_vm.ascendingSort,\"active\":_vm.sortedBy === 'totalPoints'}})],1),(!_vm.smallWindow)?_vm._l((_vm.eventsWithResults),function(event){return _c('th',{key:_vm.eventsWithResults.indexOf(event),staticClass:\"points relative\",on:{\"click\":function($event){_vm.sortBy('points-' + _vm.eventsWithResults.indexOf(event))}}},[_c('p',[_vm._v(_vm._s(_vm.eventsWithResults.indexOf(event) + 1))]),_c('span',[_vm._v(_vm._s(event.name))]),_c('up-down-arrow',{staticClass:\"points-arrow\",attrs:{\"ascending\":_vm.ascendingSort,\"active\":_vm.sortedBy === ('points-' + _vm.eventsWithResults.indexOf(event))}})],1)}):_c('td')],2)]),_c(\"transition-group\",{tag:\"tbody\",attrs:{\"name\":\"fade\"}},[_vm._l((_vm.filteredResults),function(result){return [_c('tr',{key:result.name,staticClass:\"normal-table-row\",class:{ striped: _vm.filteredResults.indexOf(result) % 2 === 0 },on:{\"click\":function($event){_vm.toggleRow(_vm.filteredResults.indexOf(result))}}},[_c('td',[_vm._v(_vm._s(result.position))]),_c('td',[_vm._v(_vm._s(result.name))]),_c('td',[_vm._v(_vm._s(result.ageClass))]),_c('td',{staticClass:\"club\"},[_vm._v(_vm._s(result.club))]),_c('td',[_vm._v(_vm._s(result.totalPoints))]),(!_vm.smallWindow)?_vm._l((_vm.eventsWithResults),function(event){return _c('td',{key:_vm.eventsWithResults.indexOf(event),staticClass:\"points\",class:{ strikethrough: !result.largestPoints.includes(_vm.eventsWithResults.indexOf(event)) }},[_vm._v(\" \"+_vm._s(result.points[_vm.eventsWithResults.indexOf(event)])+\" \")])}):_c('td',[(!_vm.openedRows.includes(_vm.filteredResults.indexOf(result)))?_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"}}),_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}})]):_c('svg',{attrs:{\"width\":\"16\",\"height\":\"16\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"}}),_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}})])])],2),(_vm.smallWindow && _vm.openedRows.includes(_vm.filteredResults.indexOf(result)))?_c('tr',{key:result.name + '-mobile',staticClass:\"mobile-table-expansion\",class:{ striped: _vm.filteredResults.indexOf(result) % 2 === 0 }},[_c('td',{attrs:{\"colspan\":\"100%\"}},_vm._l((_vm.eventsWithResults),function(event){return _c('p',{key:_vm.eventsWithResults.indexOf(event)},[_vm._v(\" \"+_vm._s(event.name)+\": \"),_c('span',{class:{strikethrough: !result.largestPoints.includes(_vm.eventsWithResults.indexOf(event))}},[_vm._v(_vm._s(result.points[_vm.eventsWithResults.indexOf(event)]))])])}),0)]):_vm._e()]})],2)],1)]),(_vm.otherCourses.length > 0)?_c('div',{staticClass:\"card my-6 mx-1\"},[_c('h2',{staticClass:\"text-2xl font-heading\"},[_vm._v(\"Results for Other Courses\")]),_c('div',_vm._l((_vm.otherCourses),function(course){return _c('router-link',{key:course,staticClass:\"button\",attrs:{\"to\":'/leagues/'+_vm.$route.params.name+'/results/'+course}},[_vm._v(\" \"+_vm._s(course)+\" \")])}),1)]):_vm._e(),(!_vm.found)?_c('h2',{staticClass:\"text-3xl font-heading\"},[_vm._v(\"Sorry, No Results Could Be Found\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n  League Results for Course\r\n\r\n  Display results for course in dynamic table with searching and sorting. Click on the relevent cell in the header\r\n  to sort/ change sort direction/ preference\r\n  On mobile show overview with name, class, total points and when clicked reveal points for each event.\r\n  Points not included in total are strikethrough style\r\n-->\r\n\r\n<template>\r\n  <div class=\"w-full pt-2 px-4 md:px-8 lg:px-16 xl:px-20\">\r\n    <vue-headful\r\n      :title=\"'Munro - ' + $route.params.name + ' - ' + $route.params.course + ' Results'\"\r\n      :description=\"'Results from the ' + $route.params.course + ' course of the ' + $route.params.name + ' league on Munro, the Fast and Easy Results System for Orienteering Leagues. A simple way to calculate the results for orienteering leagues, with search and sort features'\"\r\n      :url=\"'https://munro-leagues.herokuapp.com/leagues'+$route.params.name+'/results/'+$route.params.course\"\r\n      :head=\"{\r\n        'meta': {name: 'robots', content:'all'},\r\n      }\"\r\n    />\r\n    <h1 class=\"text-3xl font-normal font-heading\">\r\n      <router-link\r\n        class=\"link text-main\"\r\n        :to=\"'/leagues/'+$route.params.name\"\r\n      >\n        {{ $route.params.name }}\n      </router-link>\r\n      - {{ $route.params.course }}\r\n    </h1>\r\n    <filter-menu @changed=\"filterChanged\" />\r\n    <div v-show=\"filteredResults && filteredResults.length > 0\" class=\"table-container\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th @click=\"sortBy('position')\">\r\n              <p>Pos.</p>\r\n              <up-down-arrow :ascending=\"ascendingSort\" :active=\"sortedBy === 'position'\" />\r\n            </th>\r\n            <th @click=\"sortBy('name')\">\r\n              <p>Name</p>\r\n              <up-down-arrow :ascending=\"ascendingSort\" :active=\"sortedBy === 'name'\" />\r\n            </th>\r\n            <th @click=\"sortBy('age')\">\r\n              <p>Class</p>\r\n              <up-down-arrow :ascending=\"ascendingSort\" :active=\"sortedBy === 'age'\" />\r\n            </th>\r\n            <th class=\"club\" @click=\"sortBy('club')\">\r\n              <p>Club</p>\r\n              <up-down-arrow :ascending=\"ascendingSort\" :active=\"sortedBy === 'club'\" />\r\n            </th>\r\n            <th @click=\"sortBy('totalPoints')\">\r\n              <p>Points</p>\r\n\r\n              <up-down-arrow :ascending=\"ascendingSort\" :active=\"sortedBy === 'totalPoints'\" />\r\n            </th>\r\n\r\n            <template v-if=\"!smallWindow\">\r\n              <th\r\n                v-for=\"event of eventsWithResults\"\r\n                :key=\"eventsWithResults.indexOf(event)\"\r\n                class=\"points relative\"\r\n                @click=\"sortBy('points-' + eventsWithResults.indexOf(event))\"\r\n              >\r\n                <p>{{ eventsWithResults.indexOf(event) + 1 }}</p>\r\n                <span>{{ event.name }}</span>\r\n                <up-down-arrow\r\n                  class=\"points-arrow\"\r\n                  :ascending=\"ascendingSort\"\r\n                  :active=\"sortedBy === ('points-' + eventsWithResults.indexOf(event))\"\r\n                />\r\n              </th>\r\n            </template>\r\n            <td v-else />\r\n          </tr>\r\n        </thead>\r\n        <tbody is=\"transition-group\" name=\"fade\">\r\n          <template v-for=\"result of filteredResults\">\r\n            <tr\r\n              :key=\"result.name\"\r\n              :class=\"{ striped: filteredResults.indexOf(result) % 2 === 0 }\"\r\n              class=\"normal-table-row\"\r\n              @click=\"toggleRow(filteredResults.indexOf(result))\"\r\n            >\r\n              <!-- :class - If odd number results, add background color to give stripe effect to make it easier to read -->\r\n\r\n              <td>{{ result.position }}</td>\r\n              <td>{{ result.name }}</td>\r\n              <td>{{ result.ageClass }}</td>\r\n              <td class=\"club\">{{ result.club }}</td>\r\n              <td>{{ result.totalPoints }}</td>\r\n\r\n              <template v-if=\"!smallWindow\">\r\n                <td\r\n                  v-for=\"event of eventsWithResults\"\r\n                  :key=\"eventsWithResults.indexOf(event)\"\r\n                  class=\"points\"\r\n                  :class=\"{ strikethrough: !result.largestPoints.includes(eventsWithResults.indexOf(event)) }\"\r\n                >\n                  {{ result.points[eventsWithResults.indexOf(event)] }}\n                </td>\r\n              </template>\r\n              <td v-else>\r\n                <svg\r\n                  v-if=\"!openedRows.includes(filteredResults.indexOf(result))\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\" />\r\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                </svg>\r\n                <svg v-else width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                  <path d=\"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\" />\r\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                </svg>\r\n              </td>\r\n            </tr>\r\n            <tr\r\n              v-if=\"smallWindow && openedRows.includes(filteredResults.indexOf(result))\"\r\n              :key=\"result.name + '-mobile'\"\r\n              :class=\"{ striped: filteredResults.indexOf(result) % 2 === 0 }\"\r\n              class=\"mobile-table-expansion\"\r\n            >\r\n              <!-- :class - If odd number results, add background color to give stripe effect to make it easier to read -->\r\n              <td colspan=\"100%\">\r\n                <p v-for=\"event of eventsWithResults\" :key=\"eventsWithResults.indexOf(event)\">\r\n                  {{ event.name }}:\r\n                  <span\r\n                    :class=\"{strikethrough: !result.largestPoints.includes(eventsWithResults.indexOf(event))}\"\r\n                  >{{ result.points[eventsWithResults.indexOf(event)] }}</span>\r\n                </p>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div v-if=\"otherCourses.length > 0\" class=\"card my-6 mx-1\">\r\n      <h2 class=\"text-2xl font-heading\">Results for Other Courses</h2>\r\n      <div>\r\n        <router-link\r\n          v-for=\"course in otherCourses\"\r\n          :key=\"course\"\r\n          :to=\"'/leagues/'+$route.params.name+'/results/'+course\"\r\n          class=\"button\"\r\n        >\n          {{ course }}\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <!-- If no results show, message -->\r\n    <h2 v-if=\"!found\" class=\"text-3xl font-heading\">Sorry, No Results Could Be Found</h2>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport FilterMenu from '@/components/FilterMenu'\r\nimport UpDownArrow from '@/components/UpDownArrows'\r\n\r\nexport default {\r\n  components: {\r\n    FilterMenu: FilterMenu,\r\n    UpDownArrow: UpDownArrow,\r\n  },\r\n\r\n  data: () => ({\r\n    smallWindow: false,\r\n    found: true,\r\n    openedRows: [],\r\n    rawResults: [],\r\n    events: [],\r\n    otherCourses: [],\r\n    sortedBy: 'position',\r\n    ascendingSort: false,\r\n    filterPreferences: {\r\n      name: '',\r\n      club: '',\r\n      minAge: 0,\r\n      maxAge: 100,\r\n      male: true,\r\n      female: true,\r\n    },\r\n  }),\r\n\r\n  computed: {\r\n    resultsWithAgeClassSplit: function () {\r\n      // Split age class into age and gender to allow easy sorting\r\n      return this.rawResults.map(result => {\r\n        if (result.ageClass) {\r\n          result.gender = result.ageClass[0]\r\n          result.age = parseInt(result.ageClass.slice(1))\r\n        }\r\n        return result\r\n      })\r\n    },\r\n\r\n    sortedResults: function () {\r\n      // Sort results by preference\r\n      let property = this.sortedBy\r\n      if (this.sortedBy.includes('points-')) property = parseInt(property.split('-')[1])\r\n      return this.sort(\r\n        this.resultsWithAgeClassSplit,\r\n        property,\r\n        this.ascendingSort,\r\n        this.sortedBy.includes('points-'))\r\n    },\r\n\r\n    filteredResults: function () {\r\n      // Filter results by preferences\r\n      return this.sortedResults\r\n        .filter(result => result.name.match(new RegExp(this.filterPreferences.name, 'i'))) // Filter by Name Case Insensitive\r\n        .filter(result => result.club.match(new RegExp(this.filterPreferences.club, 'i'))) // Filter by Club Case Insensitive\r\n        .filter(result => {\r\n          if (this.filterPreferences.maxAge === 100 && this.filterPreferences.minAge === 0) return true\r\n          else {\r\n            return this.filterPreferences.minAge <= result.age && result.age <= this.filterPreferences.maxAge\r\n          }\r\n        }) // If age in range\r\n        .filter(result => (this.filterPreferences.male && this.filterPreferences.female) ||\r\n          (this.filterPreferences.male && result.gender === 'M') ||\r\n          (this.filterPreferences.female && result.gender === 'W')) // Filter by Gender\r\n    },\r\n\r\n    eventsWithResults: function () {\r\n      // Get events with results\r\n      return this.events.filter(event => event.resultUploaded)\r\n    },\r\n  },\r\n\r\n  // If route changes without reload (if only course parameter changes)\r\n  watch: {\r\n    $route: async function () {\r\n      this.rawResults = []\r\n      this.openedRows = []\r\n      await this.getResults()\r\n      await this.getEventList()\r\n      this.getOtherCourses()\r\n    },\r\n  },\r\n\r\n  // On load\r\n  mounted: async function () {\r\n    // Mobile resize watcher\r\n    window.addEventListener('resize', this.handleResize)\r\n    this.handleResize()\r\n\r\n    // Fetch Data\r\n    await this.getResults()\r\n    await this.getEventList()\r\n    this.getOtherCourses()\r\n  },\r\n\r\n  destroyed () {\r\n    window.removeEventListener('resize', this.handleResize)\r\n  },\r\n\r\n  methods: {\r\n    handleResize: function () {\r\n      if (window.innerWidth > 900) this.smallWindow = false\r\n      else this.smallWindow = true\r\n    },\r\n\r\n    getResults: function () {\r\n      return axios\r\n        .get('/api/leagues/' + this.$route.params.name + '/results/' + this.$route.params.course)\r\n        .then(response => {\r\n          if (response.data.length > 0) this.rawResults = response.data\r\n          else this.found = false\r\n        })\r\n        .catch(() => { this.found = false })\r\n    },\r\n\r\n    getOtherCourses: function () {\r\n      return axios\r\n        .get('/api/leagues/' + this.$route.params.name)\r\n        .then(response => {\r\n          if (response.data.courses) this.otherCourses = response.data.courses.filter(course => course !== this.$route.params.course)\r\n          else this.otherCourses = false\r\n        })\r\n        .catch(() => { this.otherCourses = false })\r\n    },\r\n\r\n    getEventList: function () {\r\n      return axios\r\n        .get('/api/leagues/' + this.$route.params.name + '/events')\r\n        .then(response => { this.events = response.data })\r\n        .catch(() => this.$messages.addMessage('Problem Fetching List of Events'))\r\n    },\r\n\r\n    sort: function (array, property, ascending = true, byPoints = false) {\r\n      let sortFunction\r\n      if (byPoints) {\r\n        sortFunction = (a, b) => {\r\n          if (a.points[property] === b.points[property]) return 0\r\n          else if (a.points[property] === null) return 1\r\n          else if (b.points[property] === null) return -1\r\n          else if (a.points[property] < b.points[property]) return 1\r\n          else return -1\r\n        }\r\n      }\r\n      else {\r\n        sortFunction = (a, b) => {\r\n          if (a[property] === b[property]) return 0\r\n          else if (a[property] === null || a[property] === undefined) return 1\r\n          else if (b[property] === null || b[property] === undefined) return -1\r\n          else if (a[property] < b[property]) return 1\r\n          else return -1\r\n        }\r\n      }\r\n      if (ascending) return array.sort(sortFunction)\r\n      else return array.sort(sortFunction).reverse()\r\n    },\r\n\r\n    sortBy: function (sortBy) {\r\n      // Change what property it is sorted by\r\n      this.openedRows = []\r\n      // If it is a different property, make it sort ascending else change direction of sort\r\n      if (sortBy !== this.sortedBy) this.ascendingSort = false\r\n      else this.ascendingSort = !this.ascendingSort\r\n      this.sortedBy = sortBy\r\n    },\r\n\r\n    filterChanged: function (data) {\r\n      // Update data of view if Filter Menu emits a change\r\n      this.filterPreferences.name = data.name\r\n      this.filterPreferences.club = data.club\r\n      if (data.minAge === '') this.filterPreferences.minAge = 0\r\n      else this.filterPreferences.minAge = data.minAge\r\n      if (data.maxAge === '') this.filterPreferences.maxAge = 100\r\n      else this.filterPreferences.maxAge = data.maxAge\r\n      this.filterPreferences.male = data.male\r\n      this.filterPreferences.female = data.female\r\n    },\r\n\r\n    toggleRow: function (id) {\r\n      // Shows the detailed points view when the row for the results is clicked on a mobile\r\n      const index = this.openedRows.indexOf(id)\r\n      if (index > -1) this.openedRows.splice(index, 1)\r\n      else this.openedRows.push(id)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.strikethrough {\r\n  text-decoration: line-through;\r\n}\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.mobile-table-expansion td {\r\n  @apply text-right;\r\n}\r\n.mobile-table-expansion td p {\r\n  @apply mr-3;\r\n}\r\n.mobile-table-expansion td span {\r\n  @apply pl-2 pr-4 w-4 inline-block;\r\n}\r\n\r\ntd.points {\r\n  @apply px-0 pl-0 pr-0;\r\n}\r\n\r\nth span {\r\n  margin-left: -110%;\r\n  opacity: 0;\r\n  transition: 0.3s;\r\n  @apply absolute shadow font-heading bg-white z-40 py-1 px-2 mt-6 text-center;\r\n}\r\n\r\nth:hover > span {\r\n  opacity: 1;\r\n}\r\n\r\n@media (max-width: 640px) {\r\n  .club {\r\n    @apply hidden;\r\n  }\r\n}\r\n\r\n@media (min-width: 640px) {\r\n  .club {\r\n    @apply block;\r\n  }\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  .points-arrow {\r\n    @apply inline-block;\r\n  }\r\n}\r\n@media (max-width: 1200px) {\r\n  .points-arrow {\r\n    @apply hidden;\r\n  }\r\n  td.points {\r\n    @apply px-1;\r\n  }\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  td.points {\r\n    padding-left: 0.15rem;\r\n    padding-right: 0.15rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeagueResultsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeagueResultsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LeagueResultsTable.vue?vue&type=template&id=99b57dce&scoped=true&\"\nimport script from \"./LeagueResultsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./LeagueResultsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LeagueResultsTable.vue?vue&type=style&index=0&id=99b57dce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99b57dce\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeagueResultsTable.vue?vue&type=style&index=0&id=99b57dce&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LeagueResultsTable.vue?vue&type=style&index=0&id=99b57dce&scoped=true&lang=css&\""],"sourceRoot":""}