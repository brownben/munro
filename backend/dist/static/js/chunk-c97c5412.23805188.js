(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c97c5412"],{"02c0":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dropdown-input"},[a("div",{staticClass:"visible",on:{click:e.toggle}},[a("label",[e._v(e._s(e.label))]),a("p",[e._v(e._s(e.currentValue))]),a("svg",{class:{active:e.open},attrs:{fill:"#9E9E9E",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}}),a("path",{attrs:{d:"M0-.75h24v24H0z",fill:"none"}})])]),a("transition",{attrs:{name:"open"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"dropdown"},e._l(e.list,(function(t){return a("p",{key:t,on:{click:function(a){return e.changeSelection(t)}}},[e._v(e._s(t))])})),0)])],1)},n=[],i={name:"DropdownInput",props:{label:{type:String,default:""},value:{type:String,default:""},list:{type:Array,default:()=>[]}},data:function(){return{open:!1,currentValue:this.value}},watch:{value:function(e){this.currentValue=e}},methods:{changeSelection:function(e){this.open=!1,this.currentValue=e,this.$emit("input",e)},toggle:function(){this.open=!this.open,this.open&&this.$emit("opened")}}},r=i,o=(a("9573"),a("2877")),u=Object(o["a"])(r,s,n,!1,null,"2375829c",null);t["a"]=u.exports},"106c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.create?a("vue-headful",{attrs:{title:"Munro - Create Competitor",description:"",head:{meta:{name:"robots",content:"noindex"}}}}):a("vue-headful",{attrs:{title:"Munro - Edit Competitor",description:"",head:{meta:{name:"robots",content:"noindex"}}}}),e.notFound?e._e():a("div",[e.create?a("h1",[e._v("Create Competitor")]):e._e(),e.create?e._e():a("h1",[e._v("Edit Competitor")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("label",[e._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("label",[e._v("Club:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.club,expression:"club",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.club},on:{input:function(t){t.target.composing||(e.club=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("label",[e._v("Age Class:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.ageClass,expression:"ageClass",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.ageClass},on:{input:function(t){t.target.composing||(e.ageClass=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("label",[e._v("League:")]),a("dropdown-input",{attrs:{list:e.leagues.map((function(e){return e.name}))},model:{value:e.league,callback:function(t){e.league=t},expression:"league"}}),a("label",[e._v("Course:")]),a("dropdown-input",{attrs:{list:e.coursesInLeague},model:{value:e.course,callback:function(t){e.course=t},expression:"course"}}),e.create?a("button",[e._v("Create Competitor")]):e._e(),e.create?e._e():a("button",[e._v("Update Competitor")])],1)]),e.notFound?a("not-found"):e._e()],1)},n=[],i=(a("e6cf"),a("2532"),a("bc3a")),r=a.n(i),o=a("02c0"),u=()=>a.e("chunk-9bd3c674").then(a.bind(null,"9703")),c={components:{NotFound:u,DropdownInput:o["a"]},data:function(){return{id:"",notFound:!1,create:!0,leagues:[],name:"",club:"",ageClass:"",league:"",course:""}},computed:{coursesInLeague:function(){var e=this.leagues.filter(e=>e.name===this.league);return e.length>0?e[0].courses:[]}},mounted:function(){this.getLeagues(),this.$route.path.includes("edit")&&(this.create=!1,this.getCompetitorDetails())},methods:{submit:function(){this.create?this.createCompetitor():this.updateCompetitor()},getCompetitorDetails:function(){return r.a.get("/api/competitors/"+this.$route.params.id).then(e=>{e.data?(this.id=this.$route.params.id,this.name=e.data.name,this.club=e.data.club,this.ageClass=e.data.ageClass,this.league=e.data.league,this.course=e.data.course):this.notFound=!0}).catch(()=>this.$messages.addMessage("Problem Getting Competitor Details"))},getLeagues:function(){return r.a.get("/api/leagues").then(e=>{this.leagues=e.data}).catch(()=>this.$messages.addMessage("Problem Fetching List of Leagues"))},validateForm:function(){return""!==this.name&&""!==this.league&&""!==this.course},createCompetitor:function(){if(this.validateForm())return r.a.post("/api/competitors",{name:this.name,club:this.club,ageClass:this.ageClass,league:this.league,course:this.course}).then(e=>this.returnToCompetitorsPage(e)).catch(()=>this.$messages.addMessage("Error: Problem Creating Competitor - Please Try Again"));this.$messages.addMessage("Please Ensure Name and League Fields are not Blank")},updateCompetitor:function(){if(this.validateForm())return r.a.put("/api/competitors/"+this.id,{id:this.id,name:this.name,club:this.club,ageClass:this.ageClass,league:this.league,course:this.course}).then(e=>this.returnToCompetitorsPage(e)).catch(e=>this.$messages.addMessage(e.response.data.message));this.$messages.addMessage("Please Ensure Name and League Fields are not Blank")},returnToCompetitorsPage:function(e){this.$messages.addMessage(e.data.message),this.$router.push("/competitors")}}},l=c,d=(a("46c4"),a("2877")),m=Object(d["a"])(l,s,n,!1,null,"a0991ae0",null);t["default"]=m.exports},2532:function(e,t,a){"use strict";var s=a("23e7"),n=a("5a34"),i=a("1d80"),r=a("ab13");s({target:"String",proto:!0,forced:!r("includes")},{includes:function(e){return!!~String(i(this)).indexOf(n(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,a){var s=a("861d"),n=a("c6b6"),i=a("b622"),r=i("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},"46c4":function(e,t,a){"use strict";var s=a("ec6b"),n=a.n(s);n.a},"5a34":function(e,t,a){var s=a("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"94eb":function(e,t,a){},9573:function(e,t,a){"use strict";var s=a("94eb"),n=a.n(s);n.a},ab13:function(e,t,a){var s=a("b622"),n=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,"/./"[e](t)}catch(s){}}return!1}},ec6b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c97c5412.23805188.js.map