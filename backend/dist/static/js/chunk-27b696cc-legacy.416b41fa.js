(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27b696cc"],{"02c0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dropdown-input relative top--4"},[a("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3"},[e._v(e._s(e.label))]),a("div",{staticClass:"visible w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 outline-none",on:{click:e.toggle}},[a("p",{staticClass:"leading-normal h-6 truncate"},[e._v(e._s(e.currentValue))]),a("svg",{staticClass:"h-8 text-main float-right fill-current mr--3 mt--68/10",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}}),a("path",{attrs:{d:"M0-.75h24v24H0z",fill:"none"}})])]),a("transition",{attrs:{name:"open"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"dropdown absolute text-body z-40 bg-white text-center w-full border border-main select-none border-t-0 mb-2"},e._l(e.list,(function(t){return a("p",{key:t,staticClass:"select-none leading-normal text-center px-3 py-2 truncate hover:bg-main-veryLight",on:{click:function(a){return e.changeSelection(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])],1)},s=[],i={name:"DropdownInput",props:{label:{type:String,default:""},value:{type:String,default:""},list:{type:Array,default:function(){return[]}}},data:function(){return{open:!1,currentValue:this.value}},watch:{value:function(e){this.currentValue=e}},methods:{changeSelection:function(e){this.open=!1,this.currentValue=e,this.$emit("input",e)},toggle:function(){this.open=!this.open,this.open&&this.$emit("opened")}}},r=i,o=(a("6a22"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"042b4bbc",null);t["a"]=l.exports},"2ff4":function(e,t,a){},"446e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-input top--4 relative"},[a("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3 pb-0"},[e._v(e._s(e.label))]),"checkbox"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},change:function(t){var a=e.value,n=t.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=e._i(a,i);n.checked?r<0&&(e.value=a.concat([i])):r>-1&&(e.value=a.slice(0,r).concat(a.slice(r+1)))}else e.value=s}}}):"radio"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none",attrs:{type:"radio"},domProps:{checked:e._q(e.value,null)},on:{input:function(t){return e.$emit("input",t.target.value)},change:function(t){e.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none",attrs:{type:e.type},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=t.target.value)},function(t){return e.$emit("input",t.target.value)}]}})])},s=[],i={name:"TextInput",props:{value:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"text"}}},r=i,o=a("2877"),l=Object(o["a"])(r,n,s,!1,null,null,null);t["a"]=l.exports},"6a22":function(e,t,a){"use strict";var n=a("2ff4"),s=a.n(n);s.a},cc28:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view"},[e.create?a("vue-headful",{attrs:{title:"Munro - Create Event",description:"",head:{meta:{name:"robots",content:"noindex"}}}}):a("vue-headful",{attrs:{title:"Munro - Edit Event",description:"",head:{meta:{name:"robots",content:"noindex"}}}}),e.notFound?e._e():a("div",[e.create?a("h1",{staticClass:"text-main text-3xl font-normal font-heading mb-2"},[e._v("Create Event")]):e._e(),e.create?e._e():a("h1",{staticClass:"text-main text-3xl font-normal font-heading mb-2"},[e._v("Edit Event")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("text-input",{attrs:{label:"Name:"},model:{value:e.name,callback:function(t){e.name="string"===typeof t?t.trim():t},expression:"name"}}),a("text-input",{attrs:{label:"Date: (DD/MM/YYYY)"},model:{value:e.date,callback:function(t){e.date="string"===typeof t?t.trim():t},expression:"date"}}),a("text-input",{attrs:{label:"Club/ Organiser:"},model:{value:e.organiser,callback:function(t){e.organiser="string"===typeof t?t.trim():t},expression:"organiser"}}),a("text-input",{attrs:{label:"Website: (URL)",type:"url"},model:{value:e.website,callback:function(t){e.website="string"===typeof t?t.trim():t},expression:"website"}}),a("text-input",{attrs:{label:"Results: (URL)",type:"url"},model:{value:e.results,callback:function(t){e.results="string"===typeof t?t.trim():t},expression:"results"}}),a("text-input",{attrs:{label:"Winsplits: (URL)",type:"url"},model:{value:e.winsplits,callback:function(t){e.winsplits="string"===typeof t?t.trim():t},expression:"winsplits"}}),a("text-input",{attrs:{label:"Routegadget: (URL)",type:"url"},model:{value:e.routegadget,callback:function(t){e.routegadget="string"===typeof t?t.trim():t},expression:"routegadget"}}),a("dropdown-input",{attrs:{list:e.leagues.map((function(e){return e.name})),label:"League:"},model:{value:e.league,callback:function(t){e.league=t},expression:"league"}}),a("text-input",{attrs:{label:"More Information:"},model:{value:e.moreInformation,callback:function(t){e.moreInformation="string"===typeof t?t.trim():t},expression:"moreInformation"}}),e.create?a("button",{staticClass:"button-lg"},[e._v("Create Event")]):e._e(),e.create?e._e():a("button",{staticClass:"button-lg"},[e._v("Update Event")])],1)]),e.notFound?a("not-found"):e._e()],1)},s=[],i=a("bc3a"),r=a.n(i),o=a("02c0"),l=a("446e"),u=function(){return a.e("chunk-2d0e5e97").then(a.bind(null,"9703"))},d={components:{NotFound:u,DropdownInput:o["a"],TextInput:l["a"]},data:function(){return{id:"",notFound:!1,create:!0,leagues:[],name:"",date:"",resultUploaded:!1,organiser:"",moreInformation:"",website:"",results:"",winsplits:"",routegadget:"",league:this.$route.params.league}},mounted:function(){this.getLeagues(),this.$route.path.includes("edit")&&(this.create=!1,this.getEventDetails())},methods:{submit:function(){this.create?this.createEvent():this.updateEvent()},getEventDetails:function(){var e=this;return r.a.get("/api/events/"+this.$route.params.id).then((function(t){t.data?(e.id=e.$route.params.id,e.name=t.data.name,e.date=t.data.date,e.resultUploaded=t.data.resultUploaded,e.organiser=t.data.organiser,e.moreInformation=t.data.moreInformation,e.website=t.data.website,e.results=t.data.results,e.winsplits=t.data.winsplits,e.routegadget=t.data.routegadget,e.league=t.data.league):e.notFound=!0})).catch((function(){return e.$messages.addMessage("Problem Getting Event Details")}))},getLeagues:function(){var e=this;return r.a.get("/api/leagues").then((function(t){e.leagues=t.data})).catch((function(){return e.$messages.addMessage("Problem Fetching List of Leagues")}))},validateForm:function(){return""===this.name||""===this.league?(this.$messages.addMessage("Please Ensure Name and League Fields are not Blank"),!1):!this.name.includes("/")&&!this.name.includes("\\")||(this.$messages.addMessage("Please Ensure Name doesn't Include any Slashes"),!1)},createEvent:function(){var e=this;if(this.validateForm())return r.a.post("/api/events",{name:this.name,date:this.date,resultUploaded:this.resultUploaded,organiser:this.organiser,moreInformation:this.moreInformation,website:this.website,results:this.results,winsplits:this.winsplits,routegadget:this.routegadget,league:this.league}).then((function(t){return e.returnToLeaguePage(t)})).catch((function(){return e.$messages.addMessage("Error: Problem Creating Event - Please Try Again")}))},updateEvent:function(){var e=this;if(this.validateForm())return r.a.put("/api/events/"+this.id,{name:this.name,date:this.date,resultUploaded:this.resultUploaded,organiser:this.organiser,moreInformation:this.moreInformation,website:this.website,results:this.results,winsplits:this.winsplits,routegadget:this.routegadget,league:this.league}).then((function(t){return e.returnToLeaguePage(t)})).catch((function(t){return e.$messages.addMessage(t.response.data.message)}))},returnToLeaguePage:function(e){this.$messages.addMessage(e.data.message),this.$router.push("/leagues/"+this.league)}}},c=d,p=a("2877"),m=Object(p["a"])(c,n,s,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-27b696cc-legacy.416b41fa.js.map