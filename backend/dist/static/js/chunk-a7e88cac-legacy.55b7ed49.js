(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7e88cac"],{"02c0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown-input"},[n("div",{staticClass:"visible",on:{click:e.toggle}},[n("label",[e._v(e._s(e.label))]),n("p",[e._v(e._s(e.currentValue))]),n("svg",{class:{active:e.open},attrs:{fill:"#9E9E9E",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}}),n("path",{attrs:{d:"M0-.75h24v24H0z",fill:"none"}})])]),n("transition",{attrs:{name:"open"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"dropdown"},e._l(e.list,(function(t){return n("p",{key:t,on:{click:function(n){return e.changeSelection(t)}}},[e._v(e._s(t))])})),0)])],1)},r=[],i={name:"DropdownInput",props:{label:{type:String,default:""},value:{type:String,default:""},list:{type:Array,default:function(){return[]}}},data:function(){return{open:!1,currentValue:this.value}},watch:{value:function(e){this.currentValue=e}},methods:{changeSelection:function(e){this.open=!1,this.currentValue=e,this.$emit("input",e)},toggle:function(){this.open=!this.open,this.open&&this.$emit("opened")}}},o=i,s=(n("9573"),n("2877")),u=Object(s["a"])(o,a,r,!1,null,"2375829c",null);t["a"]=u.exports},"188c":function(e,t,n){"use strict";var a=n("c904"),r=n.n(a);r.a},"1be4":function(e,t,n){var a=n("d066");e.exports=a("document","documentElement")},2532:function(e,t,n){"use strict";var a=n("23e7"),r=n("5a34"),i=n("1d80"),o=n("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"37e8":function(e,t,n){var a=n("83ab"),r=n("9bf2"),i=n("825a"),o=n("df75");e.exports=a?Object.defineProperties:function(e,t){i(e);var n,a=o(t),s=a.length,u=0;while(s>u)r.f(e,n=a[u++],t[n]);return e}},"44d2":function(e,t,n){var a=n("b622"),r=n("7c73"),i=n("9bf2"),o=a("unscopables"),s=Array.prototype;void 0==s[o]&&i.f(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},"44e7":function(e,t,n){var a=n("861d"),r=n("c6b6"),i=n("b622"),o=i("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},"5a34":function(e,t,n){var a=n("44e7");e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},"7c73":function(e,t,n){var a,r=n("825a"),i=n("37e8"),o=n("7839"),s=n("d012"),u=n("1be4"),l=n("cc12"),c=n("f772"),d=">",m="<",p="prototype",g="script",f=c("IE_PROTO"),v=function(){},h=function(e){return m+g+d+e+m+"/"+g+d},b=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},w=function(){var e,t=l("iframe"),n="java"+g+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(h("document.F=Object")),e.close(),e.F},x=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(t){}x=a?b(a):w();var e=o.length;while(e--)delete x[p][o[e]];return x()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=r(e),n=new v,v[p]=null,n[f]=e):n=x(),void 0===t?n:i(n,t)}},"94eb":function(e,t,n){},9573:function(e,t,n){"use strict";var a=n("94eb"),r=n.n(a);r.a},ab13:function(e,t,n){var a=n("b622"),r=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(a){}}return!1}},b0c0:function(e,t,n){var a=n("83ab"),r=n("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,u="name";!a||u in i||r(i,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},c904:function(e,t,n){},caad6:function(e,t,n){"use strict";var a=n("23e7"),r=n("4d64").includes,i=n("44d2");a({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc28:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.create?n("vue-headful",{attrs:{title:"Munro - Create Event",description:"",head:{meta:{name:"robots",content:"noindex"}}}}):n("vue-headful",{attrs:{title:"Munro - Edit Event",description:"",head:{meta:{name:"robots",content:"noindex"}}}}),e.notFound?e._e():n("div",[e.create?n("h1",[e._v("Create Event")]):e._e(),e.create?e._e():n("h1",[e._v("Edit Event")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("label",[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("label",[e._v("Date: (DD/MM/YYYY)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"date"},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}}),n("label",[e._v("Club/ Organiser:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.organiser,expression:"organiser",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.organiser},on:{input:function(t){t.target.composing||(e.organiser=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("label",[e._v("Website:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.website,expression:"website",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.website},on:{input:function(t){t.target.composing||(e.website=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("label",[e._v("Results: (URL)")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.results,expression:"results",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.results},on:{input:function(t){t.target.composing||(e.results=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("label",[e._v("Winsplits: (URL)")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.winsplits,expression:"winsplits",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.winsplits},on:{input:function(t){t.target.composing||(e.winsplits=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("label",[e._v("Routegadget: (URL)")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.routegadget,expression:"routegadget",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.routegadget},on:{input:function(t){t.target.composing||(e.routegadget=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("label",[e._v("League:")]),n("dropdown-input",{attrs:{list:e.leagues.map((function(e){return e.name}))},model:{value:e.league,callback:function(t){e.league=t},expression:"league"}}),n("label",[e._v("More Information:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.moreInformation,expression:"moreInformation",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.moreInformation},on:{input:function(t){t.target.composing||(e.moreInformation=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.create?n("button",[e._v("Create Event")]):e._e(),e.create?e._e():n("button",[e._v("Update Event")])],1)]),e.notFound?n("not-found"):e._e()],1)},r=[],i=(n("caad6"),n("b0c0"),n("d3b7"),n("2532"),n("bc3a")),o=n.n(i),s=n("02c0"),u=function(){return n.e("chunk-9bd3c674").then(n.bind(null,"9703"))},l={components:{NotFound:u,DropdownInput:s["a"]},data:function(){return{id:"",notFound:!1,create:!0,leagues:[],name:"",date:"",resultUploaded:!1,organiser:"",moreInformation:"",website:"",results:"",winsplits:"",routegadget:"",league:this.$route.params.league}},mounted:function(){this.getLeagues(),this.$route.path.includes("edit")&&(this.create=!1,this.getEventDetails())},methods:{submit:function(){this.create?this.createEvent():this.updateEvent()},getEventDetails:function(){var e=this;return o.a.get("/api/events/"+this.$route.params.id).then((function(t){t.data?(e.id=e.$route.params.id,e.name=t.data.name,e.date=t.data.date,e.resultUploaded=t.data.resultUploaded,e.organiser=t.data.organiser,e.moreInformation=t.data.moreInformation,e.website=t.data.website,e.results=t.data.results,e.winsplits=t.data.winsplits,e.routegadget=t.data.routegadget,e.league=t.data.league):e.notFound=!0})).catch((function(){return e.$messages.addMessage("Problem Getting Event Details")}))},getLeagues:function(){var e=this;return o.a.get("/api/leagues").then((function(t){e.leagues=t.data})).catch((function(){return e.$messages.addMessage("Problem Fetching List of Leagues")}))},validateForm:function(){return""===this.name||""===this.league?(this.$messages.addMessage("Please Ensure Name and League Fields are not Blank"),!1):!this.name.includes("/")&&!this.name.includes("\\")||(this.$messages.addMessage("Please Ensure Name doesn't Include any Slashes"),!1)},createEvent:function(){var e=this;if(this.validateForm())return o.a.post("/api/events",{name:this.name,date:this.date,resultUploaded:this.resultUploaded,organiser:this.organiser,moreInformation:this.moreInformation,website:this.website,results:this.results,winsplits:this.winsplits,routegadget:this.routegadget,league:this.league}).then((function(t){return e.returnToLeaguePage(t)})).catch((function(){return e.$messages.addMessage("Error: Problem Creating Event - Please Try Again")}))},updateEvent:function(){var e=this;if(this.validateForm())return o.a.put("/api/events/"+this.id,{name:this.name,date:this.date,resultUploaded:this.resultUploaded,organiser:this.organiser,moreInformation:this.moreInformation,website:this.website,results:this.results,winsplits:this.winsplits,routegadget:this.routegadget,league:this.league}).then((function(t){return e.returnToLeaguePage(t)})).catch((function(t){return e.$messages.addMessage(t.response.data.message)}))},returnToLeaguePage:function(e){this.$messages.addMessage(e.data.message),this.$router.push("/leagues/"+this.league)}}},c=l,d=(n("188c"),n("2877")),m=Object(d["a"])(c,a,r,!1,null,"7ceab76c",null);t["default"]=m.exports},df75:function(e,t,n){var a=n("ca84"),r=n("7839");e.exports=Object.keys||function(e){return a(e,r)}}}]);
//# sourceMappingURL=chunk-a7e88cac-legacy.55b7ed49.js.map