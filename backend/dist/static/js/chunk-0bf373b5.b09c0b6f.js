(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bf373b5"],{1966:function(e,t,s){},3775:function(e,t,s){},"3fbd":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("accordion-dropdown",{attrs:{title:"Filter"}},[s("text-input",{staticClass:"w-full md:w-1/2 inline-block md:pr-2",attrs:{label:"Name:"},on:{input:e.onChange},model:{value:e.preferences.name,callback:function(t){e.$set(e.preferences,"name",t)},expression:"preferences.name"}}),s("text-input",{staticClass:"w-full md:w-1/2 inline-block md:pl-2",attrs:{label:"Club:"},on:{input:e.onChange},model:{value:e.preferences.club,callback:function(t){e.$set(e.preferences,"club",t)},expression:"preferences.club"}}),s("number-input",{staticClass:"w-1/2 md:w-1/4 inline-block pr-2 md:mb--4",attrs:{min:0,max:120,label:"Min Age:"},on:{input:e.onChange},model:{value:e.preferences.minAge,callback:function(t){e.$set(e.preferences,"minAge",e._n(t))},expression:"preferences.minAge"}}),s("number-input",{staticClass:"w-1/2 md:w-1/4 inline-block pl-2 md:mb--4",attrs:{min:0,max:120,label:"Max Age:"},on:{input:e.onChange},model:{value:e.preferences.maxAge,callback:function(t){e.$set(e.preferences,"maxAge",e._n(t))},expression:"preferences.maxAge"}}),s("checkbox-input",{staticClass:"w-1/2 md:w-1/4 inline-block pr-2 text-center",attrs:{label:"Male:"},on:{input:e.onChange},model:{value:e.preferences.male,callback:function(t){e.$set(e.preferences,"male",t)},expression:"preferences.male"}}),s("checkbox-input",{staticClass:"w-1/2 md:w-1/4 inline-block pl-2 text-center",attrs:{label:"Female:"},on:{input:e.onChange},model:{value:e.preferences.female,callback:function(t){e.$set(e.preferences,"female",t)},expression:"preferences.female"}})],1)},a=[],i=s("c824"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rounded-shape-xl my-shadow mt-3 mb-6 accordion bg-white"},[s("div",{staticClass:"accordion-head",on:{click:function(t){e.accordionOpen=!e.accordionOpen}}},[s("h2",{staticClass:"font-heading text-main text-2xl p-2 px-4 h-12 inline-block select-none"},[e._v(" "+e._s(e.title)+" ")]),s("svg",{staticClass:"fill-current text-main h-12 float-right p-2",class:{rotate:e.accordionOpen},attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}}),s("path",{attrs:{fill:"none",d:"M0 0h24v24H0V0z"}})])]),s("transition",{attrs:{name:"shrink"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.accordionOpen,expression:"accordionOpen"}],key:"1",staticClass:"accordion-body p-3 pt-0 pb-1"},[e._t("default")],2)])],1)},l=[],o={props:{title:{type:String,default:"Title"}},data:()=>({accordionOpen:!1})},u=o,c=(s("da5d"),s("2877")),d=Object(c["a"])(u,r,l,!1,null,null,null),p=d.exports,f=s("446e"),h=s("d610"),m={components:{CheckboxInput:i["a"],AccordionDropdown:p,TextInput:f["a"],NumberInput:h["a"]},data:()=>({preferences:{name:"",club:"",minAge:0,maxAge:100,male:!0,female:!0}}),methods:{onChange:function(){this.$emit("changed",this.preferences)}}},v=m,g=(s("96ce"),Object(c["a"])(v,n,a,!1,null,null,null));t["a"]=g.exports},"40f3":function(e,t,s){"use strict";var n=s("aa8d"),a=s.n(n);a.a},"41d4":function(e,t,s){"use strict";var n=s("be9e"),a=s.n(n);a.a},"446e":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-input top--4 relative"},[s("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3 pb-0"},[e._v(e._s(e.label))]),s("input",{staticClass:"w-full border border-main rounded-shape px-4 py-2 text-body outline-none",attrs:{type:e.type},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])},a=[],i={name:"TextInput",props:{value:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"text"}}},r=i,l=(s("40f3"),s("2877")),o=Object(l["a"])(r,n,a,!1,null,null,null);t["a"]=o.exports},"4e32":function(e,t,s){},"79a9":function(e,t,s){"use strict";var n=s("1966"),a=s.n(n);a.a},"883d":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-full pt-2 px-4 md:px-8 lg:px-16 xl:px-20"},[s("vue-headful",{attrs:{title:"Munro - "+e.$route.params.name+" - "+e.$route.params.course+" Results",description:"Results from the "+e.$route.params.course+" course of the "+e.$route.params.name+" league on Munro, the Fast and Easy Results System for Orienteering Leagues. A simple way to calculate the results for orienteering leagues, with search and sort features",url:"https://munro-leagues.herokuapp.com/leagues/"+e.$route.params.name+"/results/"+e.$route.params.course,head:{meta:{name:"robots",content:"all"}}}}),s("h1",{staticClass:"text-3xl font-normal font-heading"},[s("router-link",{staticClass:"link text-main",attrs:{to:"/leagues/"+e.$route.params.name}},[e._v(e._s(e.$route.params.name))]),e._v(" - "+e._s(e.$route.params.course)+" ")],1),s("filter-menu",{on:{changed:e.filterChanged}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.filteredResults&&e.filteredResults.length>0,expression:"filteredResults && filteredResults.length > 0"}],staticClass:"table-container"},[s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",{on:{click:function(t){return e.sortBy("position")}}},[s("p",[e._v("Pos.")]),s("up-down-arrow",{attrs:{ascending:e.ascendingSort,active:"position"===e.sortedBy}})],1),s("th",{on:{click:function(t){return e.sortBy("name")}}},[s("p",[e._v("Name")]),s("up-down-arrow",{attrs:{ascending:e.ascendingSort,active:"name"===e.sortedBy}})],1),s("th",{on:{click:function(t){return e.sortBy("age")}}},[s("p",[e._v("Class")]),s("up-down-arrow",{attrs:{ascending:e.ascendingSort,active:"age"===e.sortedBy}})],1),s("th",{staticClass:"club",on:{click:function(t){return e.sortBy("club")}}},[s("p",[e._v("Club")]),s("up-down-arrow",{attrs:{ascending:e.ascendingSort,active:"club"===e.sortedBy}})],1),s("th",{on:{click:function(t){return e.sortBy("totalPoints")}}},[s("p",[e._v("Points")]),s("up-down-arrow",{attrs:{ascending:e.ascendingSort,active:"totalPoints"===e.sortedBy}})],1),e.smallWindow?s("td"):e._l(e.eventsWithResults,(function(t){return s("th",{key:e.eventsWithResults.indexOf(t),staticClass:"points relative",on:{click:function(s){e.sortBy("points-"+e.eventsWithResults.indexOf(t))}}},[s("p",[e._v(e._s(e.eventsWithResults.indexOf(t)+1))]),s("span",[e._v(e._s(t.name))]),s("up-down-arrow",{staticClass:"points-arrow",attrs:{ascending:e.ascendingSort,active:e.sortedBy==="points-"+e.eventsWithResults.indexOf(t)}})],1)}))],2)]),s("transition-group",{tag:"tbody",attrs:{name:"fade"}},[e._l(e.filteredResults,(function(t){return[s("tr",{key:t.name,staticClass:"normal-table-row",class:{striped:e.filteredResults.indexOf(t)%2===0},on:{click:function(s){e.toggleRow(e.filteredResults.indexOf(t))}}},[s("td",[e._v(e._s(t.position))]),s("td",[e._v(e._s(t.name))]),s("td",[e._v(e._s(t.ageClass))]),s("td",{staticClass:"club"},[e._v(e._s(t.club))]),s("td",[e._v(e._s(t.totalPoints))]),e.smallWindow?s("td",[e.openedRows.includes(e.filteredResults.indexOf(t))?s("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})]):s("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])]):e._l(e.eventsWithResults,(function(n){return s("td",{key:e.eventsWithResults.indexOf(n),staticClass:"points",class:{strikethrough:!t.largestPoints.includes(e.eventsWithResults.indexOf(n)),bold:t.types&&""!==t.types[e.eventsWithResults.indexOf(n)]}},[e._v(" "+e._s(t.points[e.eventsWithResults.indexOf(n)])+" ")])}))],2),e.smallWindow&&e.openedRows.includes(e.filteredResults.indexOf(t))?s("tr",{key:t.name+"-mobile",staticClass:"mobile-table-expansion",class:{striped:e.filteredResults.indexOf(t)%2===0}},[s("td",{attrs:{colspan:"100%"}},e._l(e.eventsWithResults,(function(n){return s("p",{key:e.eventsWithResults.indexOf(n)},[e._v(" "+e._s(n.name)+": "),s("span",{class:{strikethrough:!t.largestPoints.includes(e.eventsWithResults.indexOf(n)),bold:t.types&&""!==t.types[e.eventsWithResults.indexOf(n)]}},[e._v(e._s(t.points[e.eventsWithResults.indexOf(n)]))])])})),0)]):e._e()]}))],2)],1)]),e.found?e._e():s("h2",{staticClass:"text-3xl font-heading my-10 mx-2"},[e._v(" Sorry, No Results Could Be Found ")]),e.otherCourses.length>0?s("div",{staticClass:"card my-6 mx-1"},[s("h2",{staticClass:"text-2xl font-heading"},[e._v("Results for Other Courses")]),s("div",e._l(e.otherCourses,(function(t){return s("router-link",{key:t,staticClass:"button",attrs:{to:"/leagues/"+e.$route.params.name+"/results/"+t}},[e._v(e._s(t))])})),1)]):e._e()],1)},a=[],i=s("bc3a"),r=s.n(i),l=s("3fbd"),o=s("bb25");function u(e,t,s,n,a,i,r){try{var l=e[i](r),o=l.value}catch(u){return void s(u)}l.done?t(o):Promise.resolve(o).then(n,a)}function c(e){return function(){var t=this,s=arguments;return new Promise((function(n,a){var i=e.apply(t,s);function r(e){u(i,n,a,r,l,"next",e)}function l(e){u(i,n,a,r,l,"throw",e)}r(void 0)}))}}var d={components:{FilterMenu:l["a"],UpDownArrow:o["a"]},data:()=>({smallWindow:!1,found:!0,openedRows:[],rawResults:[],events:[],otherCourses:[],sortedBy:"position",ascendingSort:!1,filterPreferences:{name:"",club:"",minAge:0,maxAge:100,male:!0,female:!0}}),computed:{resultsWithAgeClassSplit:function(){return this.rawResults.map(e=>{if(e.ageClass){var t=e.ageClass.match(/([MWmwfFDH])[^0-9]*([0-9]*)/);["M","H"].includes(t[1].toUpperCase())?e.gender="M":["W","F","D"].includes(t[1].toUpperCase())&&(e.gender="W"),e.age=parseInt(t[2],10)}return e})},sortedResults:function(){var e=this.sortedBy;return this.sortedBy.includes("points-")&&(e=parseInt(e.split("-")[1],10)),this.sort(this.resultsWithAgeClassSplit,e,this.ascendingSort,this.sortedBy.includes("points-"))},filteredResults:function(){return this.sortedResults.filter(e=>e.name.match(new RegExp(this.filterPreferences.name,"i"))&&e.club.match(new RegExp(this.filterPreferences.club,"i"))&&(this.filterPreferences.male&&this.filterPreferences.female||this.filterPreferences.male&&"M"===e.gender||this.filterPreferences.female&&"W"===e.gender)&&(this.filterPreferences.maxAge>=100&&0===this.filterPreferences.minAge||this.filterPreferences.minAge<=e.age&&e.age<=this.filterPreferences.maxAge))},eventsWithResults:function(){return this.events.filter(e=>e.resultUploaded)}},watch:{$route:function(){var e=c((function*(){this.rawResults=[],this.openedRows=[],yield this.getResults(),yield this.getEventList(),this.getOtherCourses()}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.getResults(),this.getEventList(),this.getOtherCourses()},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){window.innerWidth>900?this.smallWindow=!1:this.smallWindow=!0},getResults:function(){return r.a.get("/api/leagues/".concat(this.$route.params.name,"/results/").concat(this.$route.params.course)).then(e=>{e.data.length>0?this.rawResults=e.data:this.found=!1}).catch(()=>{this.found=!1})},getOtherCourses:function(){return r.a.get("/api/leagues/".concat(this.$route.params.name)).then(e=>{return e.data.courses?this.otherCourses=e.data.courses.filter(e=>e!==this.$route.params.course):this.otherCourses=!1,this.otherCourses}).catch(()=>{this.otherCourses=!1})},getEventList:function(){return r.a.get("/api/leagues/".concat(this.$route.params.name,"/events")).then(e=>{this.events=e.data}).catch(()=>this.$messages.addMessage("Problem Fetching List of Events"))},sort:function(e,t){var s,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s=a?(e,s)=>{return e.points[t]===s.points[t]?0:null===e.points[t]?1:null===s.points[t]?-1:e.points[t]<s.points[t]?1:-1}:(e,s)=>{return e[t]===s[t]?0:null===e[t]||void 0===e[t]?1:null===s[t]||void 0===s[t]?-1:e[t]<s[t]?1:-1},n?e.sort(s):e.sort(s).reverse()},sortBy:function(e){this.openedRows=[],e!==this.sortedBy?this.ascendingSort=!1:this.ascendingSort=!this.ascendingSort,this.sortedBy=e},filterChanged:function(e){this.filterPreferences.name=e.name,this.filterPreferences.club=e.club,""===e.minAge?this.filterPreferences.minAge=0:this.filterPreferences.minAge=e.minAge,""===e.maxAge?this.filterPreferences.maxAge=100:this.filterPreferences.maxAge=e.maxAge,this.filterPreferences.male=e.male,this.filterPreferences.female=e.female},toggleRow:function(e){var t=this.openedRows.indexOf(e);t>-1?this.openedRows.splice(t,1):this.openedRows.push(e)}}},p=d,f=(s("f7a8"),s("2877")),h=Object(f["a"])(p,n,a,!1,null,null,null);t["default"]=h.exports},"91aa":function(e,t,s){},"96ce":function(e,t,s){"use strict";var n=s("91aa"),a=s.n(n);a.a},aa8d:function(e,t,s){},ab20:function(e,t,s){},bb25:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"up-down-arrow"},[s("svg",{class:{"active-arrow":e.active&&!e.ascending},attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7 14l5-5 5 5z"}})]),s("svg",{class:{"active-arrow":e.active&&e.ascending},attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M7 10l5 5 5-5z"}})])])},a=[],i={name:"UpDownArrows",props:{active:{type:Boolean,default:!1},ascending:{type:Boolean,default:!1}}},r=i,l=(s("41d4"),s("2877")),o=Object(l["a"])(r,n,a,!1,null,null,null);t["a"]=o.exports},be9e:function(e,t,s){},c824:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"checkbox-input mt-3"},[s("label",{staticClass:"text-md select-none font-heading text-main"},[e._v(" "+e._s(e.label)+" "),s("input",{staticClass:"hidden",attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:function(t){return e.$emit("input",t.target.checked)}}}),s("span")])])},a=[],i={name:"CheckboxInput",props:{value:{type:Boolean,default:!1},label:{type:String,default:""}}},r=i,l=(s("79a9"),s("2877")),o=Object(l["a"])(r,n,a,!1,null,"72041513",null);t["a"]=o.exports},d610:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-input top--4 relative appearance-none"},[s("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3 pb-0"},[e._v(e._s(e.label))]),s("input",{staticClass:"w-full border border-main rounded-shape px-4 py-2 text-body outline-none appearance-none",attrs:{min:e.min,max:e.max,type:"number"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])},a=[],i={name:"NumberInput",props:{value:{type:Number,default:0},label:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:100}}},r=i,l=(s("e86a"),s("2877")),o=Object(l["a"])(r,n,a,!1,null,null,null);t["a"]=o.exports},da5d:function(e,t,s){"use strict";var n=s("ab20"),a=s.n(n);a.a},e86a:function(e,t,s){"use strict";var n=s("3775"),a=s.n(n);a.a},f7a8:function(e,t,s){"use strict";var n=s("4e32"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-0bf373b5.b09c0b6f.js.map