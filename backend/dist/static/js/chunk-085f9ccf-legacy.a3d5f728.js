(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-085f9ccf"],{"02c0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown-input relative top--4"},[n("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3"},[e._v(e._s(e.label))]),n("div",{staticClass:"visible w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 outline-none",on:{click:e.toggle}},[n("p",{staticClass:"leading-normal h-6 truncate"},[e._v(e._s(e.currentValue))]),n("svg",{staticClass:"h-8 text-main float-right fill-current mr--3 mt--68/10",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}}),n("path",{attrs:{d:"M0-.75h24v24H0z",fill:"none"}})])]),n("transition",{attrs:{name:"open"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"dropdown absolute text-body z-40 bg-white text-center w-full border border-main select-none border-t-0 mb-2"},e._l(e.list,(function(t){return n("p",{key:t,staticClass:"select-none leading-normal text-center px-3 py-2 truncate hover:bg-main-veryLight",on:{click:function(n){return e.changeSelection(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])],1)},o=[],i={name:"DropdownInput",props:{label:{type:String,default:""},value:{type:String,default:""},list:{type:Array,default:function(){return[]}}},data:function(){return{open:!1,currentValue:this.value}},watch:{value:function(e){this.currentValue=e}},methods:{changeSelection:function(e){this.open=!1,this.currentValue=e,this.$emit("input",e)},toggle:function(){this.open=!this.open,this.open&&this.$emit("opened")}}},r=i,s=(n("6a22"),n("2877")),u=Object(s["a"])(r,a,o,!1,null,"042b4bbc",null);t["a"]=u.exports},"20e5":function(e,t,n){},"2ff4":function(e,t,n){},"446e":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-input top--4 relative"},[n("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3 pb-0"},[e._v(e._s(e.label))]),"checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},change:function(t){var n=e.value,a=t.target,o=!!a.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);a.checked?r<0&&(e.value=n.concat([i])):r>-1&&(e.value=n.slice(0,r).concat(n.slice(r+1)))}else e.value=o}}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none",attrs:{type:"radio"},domProps:{checked:e._q(e.value,null)},on:{input:function(t){return e.$emit("input",t.target.value)},change:function(t){e.value=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none",attrs:{type:e.type},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=t.target.value)},function(t){return e.$emit("input",t.target.value)}]}})])},o=[],i={name:"TextInput",props:{value:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"text"}}},r=i,s=n("2877"),u=Object(s["a"])(r,a,o,!1,null,null,null);t["a"]=u.exports},"44ee":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view"},[e.create?n("vue-headful",{attrs:{title:"Munro - Create League",description:"",head:{meta:{name:"robots",content:"noindex"}}}}):n("vue-headful",{attrs:{title:"Munro - Edit League",description:"",head:{meta:{name:"robots",content:"noindex"}}}}),e.notFound?e._e():n("div",[e.create?n("h1",{staticClass:"text-main text-3xl font-normal font-heading mb-2"},[e._v("Create League")]):e._e(),e.create?e._e():n("h1",{staticClass:"text-main text-3xl font-normal font-heading mb-2"},[e._v("Edit League")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("text-input",{attrs:{label:"Name:"},model:{value:e.name,callback:function(t){e.name="string"===typeof t?t.trim():t},expression:"name"}}),n("text-input",{attrs:{label:"Year:"},model:{value:e.year,callback:function(t){e.year="string"===typeof t?t.trim():t},expression:"year"}}),n("text-input",{attrs:{label:"Description:"},model:{value:e.info,callback:function(t){e.info="string"===typeof t?t.trim():t},expression:"info"}}),n("text-input",{attrs:{label:"Website: (URL)",type:"url"},model:{value:e.website,callback:function(t){e.website="string"===typeof t?t.trim():t},expression:"website"}}),n("text-input",{attrs:{label:"Logo: (URL)",type:"url"},model:{value:e.logo,callback:function(t){e.logo="string"===typeof t?t.trim():t},expression:"logo"}}),n("text-input",{attrs:{label:"Coordinator:"},model:{value:e.coordinator,callback:function(t){e.coordinator="string"===typeof t?t.trim():t},expression:"coordinator"}}),n("dropdown-input",{attrs:{list:["Position Based (100 Max)","Position Based (50 Max)","Position Based (99 Max)"],label:"Scoring Method:"},model:{value:e.scoringMethod,callback:function(t){e.scoringMethod=t},expression:"scoringMethod"}}),n("number-input",{attrs:{min:1,label:"Number of Events to Count:"},model:{value:e.numberOfCountingEvents,callback:function(t){e.numberOfCountingEvents=e._n(t)},expression:"numberOfCountingEvents"}}),n("text-input",{attrs:{label:"Courses: (Comma Separated)"},model:{value:e.courses,callback:function(t){e.courses="string"===typeof t?t.trim():t},expression:"courses"}}),e.create?n("button",{staticClass:"button-lg"},[e._v("Create League")]):e._e(),e.create?e._e():n("button",{staticClass:"button-lg"},[e._v("Update League")])],1)]),e.notFound?n("not-found"):e._e()],1)},o=[],i=n("bc3a"),r=n.n(i),s=n("02c0"),u=n("446e"),l=n("d610"),c=function(){return n.e("chunk-2d0e5e97").then(n.bind(null,"9703"))},d={components:{NotFound:c,DropdownInput:s["a"],TextInput:u["a"],NumberInput:l["a"]},data:function(){return{notFound:!1,create:!0,oldName:"",name:"",year:"",website:"",logo:"",coordinator:"",scoringMethod:"",numberOfCountingEvents:1,courses:"",info:"",numberOfEvents:0}},mounted:function(){this.$route.path.includes("edit")&&(this.create=!1,this.getLeagueDetails())},methods:{validateForm:function(){return""===this.name||""===this.scoringMethod?(this.$messages.addMessage("Please Ensure Name and Scoring Method Fields are not Blank"),!1):!this.name.includes("/")&&!this.name.includes("\\")||(this.$messages.addMessage("Please Ensure Name doesn't Include any Slashes"),!1)},returnToLeaguePage:function(e){this.$messages.addMessage(e.data.message),this.$router.push("/leagues/"+this.name)},scoringMethodShorthandToFull:function(e){return"position"===e?"Position Based (100 Max)":"position50"===e?"Position Based (50 Max)":"position99"===e?"Position Based (99 Max)":"position99average"===e?"Position Based (99 Max - Reduced in a Draw)":""},scoringMethodFullToShorthand:function(e){return"Position Based (100 Max)"===e?"position":"Position Based (50 Max)"===e?"position50":"Position Based (99 Max)"===e?"position99":"Position Based (99 Max - Reduced in a Draw)"===e?"position99average":""},getLeagueDetails:function(){var e=this;return r.a.get("/api/leagues/"+this.$route.params.name).then((function(t){t.data?(e.oldName=t.data.name,e.name=t.data.name,e.year=t.data.year,e.website=t.data.website,e.coordinator=t.data.coordinator,e.scoringMethod=e.scoringMethodShorthandToFull(t.data.scoringMethod),e.numberOfCountingEvents=t.data.numberOfCountingEvents,e.logo=t.data.logo,t.data.courses&&(e.courses=t.data.courses.join(",")),e.info=t.data.description):e.notFound=!0})).catch((function(){return e.$messages.addMessage("Problem Fetching League Details")}))},submit:function(){this.create?this.createLeague():this.updateLeague()},createLeague:function(){var e=this;if(this.validateForm())return r.a.post("/api/leagues",{name:this.name,year:this.year,website:this.website,logo:this.logo,coordinator:this.coordinator,scoringMethod:this.scoringMethodFullToShorthand(this.scoringMethod),numberOfCountingEvents:this.numberOfCountingEvents,courses:this.courses,description:this.info}).then((function(t){return e.returnToLeaguePage(t)})).catch((function(){return e.$messages.addMessage("Error: Problem Creating League - Please Try Again")}))},updateLeague:function(){var e=this;if(this.validateForm())return r.a.put("/api/leagues/"+this.oldName,{oldName:this.oldName,name:this.name,year:this.year,website:this.website,logo:this.logo,coordinator:this.coordinator,scoringMethod:this.scoringMethodFullToShorthand(this.scoringMethod),numberOfCountingEvents:this.numberOfCountingEvents,courses:this.courses,description:this.info}).then((function(t){return e.returnToLeaguePage(t)})).catch((function(){return e.$messages.addMessage("Error: Problem Updating League - Please Try Again")}))}}},m=d,p=(n("ea48"),n("2877")),g=Object(p["a"])(m,a,o,!1,null,"6366a602",null);t["default"]=g.exports},"6a22":function(e,t,n){"use strict";var a=n("2ff4"),o=n.n(a);o.a},d610:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-input top--4 relative appearance-none"},[n("label",{staticClass:"font-heading text-sm text-main p-1 mx-3 bg-white relative select-none bottom--3 pb-0"},[e._v(e._s(e.label))]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"w-full border border-main rounded-tl-lg rounded-br-lg px-4 py-2 text-body outline-none appearance-none",attrs:{min:e.min,max:e.max,type:"number"},domProps:{value:e.value},on:{input:[function(t){t.target.composing||(e.value=e._n(t.target.value))},function(t){return e.$emit("input",t.target.value)}],blur:function(t){return e.$forceUpdate()}}})])},o=[],i={name:"NumberInput",props:{value:{type:Number,default:0},label:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:100}}},r=i,s=n("2877"),u=Object(s["a"])(r,a,o,!1,null,null,null);t["a"]=u.exports},ea48:function(e,t,n){"use strict";var a=n("20e5"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-085f9ccf-legacy.a3d5f728.js.map